export const emojiMap = {
  // 表情
  '[微笑]': '😊',
  '[笑]': '😄',
  '[大笑]': '😆',
  '[可爱]': '🥰',
  '[调皮]': '😜',
  '[呲牙]': '😁',
  '[害羞]': '😊',
  '[偷笑]': '😏',
  '[爱心眼]': '😍',
  '[晕]': '😵',
  '[流泪]': '😢',
  '[大哭]': '😭',
  '[生气]': '😠',
  '[委屈]': '🥺',
  '[白眼]': '🙄',
  '[困]': '😪',
  '[惊讶]': '😮',
  '[疑问]': '🤔',
  '[思考]': '🤔',
  '[吐舌]': '😛',
  '[得意]': '😎',
  '[汗]': '😅',
  '[痛苦]': '😣',
  '[尴尬]': '😅',
  '[奸笑]': '😈',
  '[抓狂]': '😫',
  '[眨眼]': '😉',
  '[酷]': '😎',
  '[傲慢]': '😤',
  '[困扰]': '😖',

  // 动物
  '[狗头]': '🐶',
  '[猫头]': '🐱',
  '[兔子]': '🐰',
  '[狐狸]': '🦊',
  '[熊]': '🐻',
  '[熊猫]': '🐼',
  '[老虎]': '🐯',
  '[狮子]': '🦁',
  '[猴子]': '🐒',
  '[猪头]': '🐷',

  // 手势
  '[赞]': '👍',
  '[踩]': '👎',
  '[握手]': '🤝',
  '[胜利]': '✌️',
  '[加油]': '💪',
  '[OK]': '👌',
  '[拳头]': '👊',
  '[比心]': '🤟',
  '[鼓掌]': '👏',
  '[双手合十]': '🙏',

  // 符号
  '[心]': '❤️',
  '[心碎]': '💔',
  '[星星]': '⭐',
  '[月亮]': '🌙',
  '[太阳]': '☀️',
  '[闪电]': '⚡',
  '[皇冠]': '👑',
  '[礼物]': '🎁',
  '[蛋糕]': '🎂',
  '[庆祝]': '🎉',

  // 食物
  '[西瓜]': '🍉',
  '[苹果]': '🍎',
  '[香蕉]': '🍌',
  '[草莓]': '🍓',
  '[咖啡]': '☕',
  '[啤酒]': '🍺',
  '[干杯]': '🍻',
  '[米饭]': '🍚',
  '[面条]': '🍜',
  '[汉堡]': '🍔'
}

export const emojiGroups = [
  {
    name: '表情',
    items: [
      '[微笑]', '[笑]', '[大笑]', '[可爱]', '[调皮]', 
      '[呲牙]', '[害羞]', '[偷笑]', '[爱心眼]', '[晕]',
      '[流泪]', '[大哭]', '[生气]', '[委屈]', '[白眼]',
      '[困]', '[惊讶]', '[疑问]', '[思考]', '[吐舌]',
      '[得意]', '[汗]', '[痛苦]', '[尴尬]', '[奸笑]',
      '[抓狂]', '[眨眼]', '[酷]', '[傲慢]', '[困扰]'
    ]
  },
  {
    name: '动物',
    items: [
      '[狗头]', '[猫头]', '[兔子]', '[狐狸]', '[熊]',
      '[熊猫]', '[老虎]', '[狮子]', '[猴子]', '[猪头]'
    ]
  },
  {
    name: '手势',
    items: [
      '[赞]', '[踩]', '[握手]', '[胜利]', '[加油]',
      '[OK]', '[拳头]', '[比心]', '[鼓掌]', '[双手合十]'
    ]
  },
  {
    name: '符号',
    items: [
      '[心]', '[心碎]', '[星星]', '[月亮]', '[太阳]',
      '[闪电]', '[皇冠]', '[礼物]', '[蛋糕]', '[庆祝]'
    ]
  },
  {
    name: '食物',
    items: [
      '[西瓜]', '[苹果]', '[香蕉]', '[草莓]', '[咖啡]',
      '[啤酒]', '[干杯]', '[米饭]', '[面条]', '[汉堡]'
    ]
  }
]

// 将文本中的表情符号转换为emoji
export function parseEmoji(text: string): string {
  return text.replace(/\[[^\]]+\]/g, match => emojiMap[match] || match)
}

// 将emoji转换为文本表情符号
export function textToEmoji(text: string): string {
  let result = text
  Object.entries(emojiMap).forEach(([key, value]) => {
    result = result.replace(new RegExp(value, 'g'), key)
  })
  return result
}

// 检查文本是否包含表情符号
export function hasEmoji(text: string): boolean {
  return /\[[^\]]+\]/g.test(text)
}

// 获取所有表情符号
export function getAllEmojis(): string[] {
  return Object.keys(emojiMap)
}

// 获取表情符号对应的emoji
export function getEmoji(text: string): string {
  return emojiMap[text] || text
}
